<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Visual masking # Convolution masks # Problem Statement # Implement an image processing web app supporting different image kernels and supporting:
Image histogram visualization. Different lightness (coloring brightness) tools. Background # A histogram is a graphical representation that displays how frequently various color values occur in an image. The histogram focuses only on the proportion of the colors and not the location of the colors in the Images. They show the statistical distribution of colors and the essential tones present in the image."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Visual masking # Convolution masks # Problem Statement # Implement an image processing web app supporting different image kernels and supporting:
Image histogram visualization. Different lightness (coloring brightness) tools. Background # A histogram is a graphical representation that displays how frequently various color values occur in an image. The histogram focuses only on the proportion of the colors and not the location of the colors in the Images. They show the statistical distribution of colors and the essential tones present in the image."><meta property="og:type" content="article"><meta property="og:url" content="https://computacion-visual-2022-2.github.io/vc_page/docs/contenido/workshop1/masking/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-08-31T09:48:30-05:00"><title>Masking | VC-2022-2</title><link rel=manifest href=/vc_page/manifest.json><link rel=icon href=/vc_page/favicon.png type=image/x-icon><link rel=stylesheet href=/vc_page/book.min.ab46de3e725a6415339a37bba23a0067534a37289b063c9f8d011515a63097a8.css integrity="sha256-q0bePnJaZBUzmje7ojoAZ1NKNyibBjyfjQEVFaYwl6g=" crossorigin=anonymous><script defer src=/vc_page/flexsearch.min.js></script>
<script defer src=/vc_page/en.search.min.58da55337b6c0b56fd1179df7508cba25b8d431ac3145426d04796fa8272d801.js integrity="sha256-WNpVM3tsC1b9EXnfdQjLoluNQxrDFFQm0EeW+oJy2AE=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/vc_page/><span>VC-2022-2</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/vc_page/docs/contenido/>Contenido</a><ul><li><input type=checkbox id=section-2389dc99fc67873ebfb8ef67f4a3fee8 class=toggle checked>
<label for=section-2389dc99fc67873ebfb8ef67f4a3fee8 class="flex justify-between"><a href=/vc_page/docs/contenido/workshop1/>Workshop1</a></label><ul><li><a href=/vc_page/docs/contenido/workshop1/illusions/>Illusions</a></li><li><a href=/vc_page/docs/contenido/workshop1/masking/ class=active>Masking</a></li></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/vc_page/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Masking</strong>
<label for=toc-control><img src=/vc_page/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#visual-masking>Visual masking</a></li><li><a href=#convolution-masks>Convolution masks</a><ul><li><a href=#problem-statement>Problem Statement</a></li><li><a href=#background>Background</a></li><li><a href=#code>Code</a><ul><li><a href=#kernels>Kernels</a></li><li><a href=#histograma>Histograma</a></li></ul></li><li><a href=#conclusions>Conclusions</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=visual-masking>Visual masking
<a class=anchor href=#visual-masking>#</a></h1><h1 id=convolution-masks>Convolution masks
<a class=anchor href=#convolution-masks>#</a></h1><h2 id=problem-statement>Problem Statement
<a class=anchor href=#problem-statement>#</a></h2><p>Implement an image processing web app supporting different image kernels and supporting:</p><ul><li>Image histogram visualization.</li><li>Different lightness (coloring brightness) tools.</li></ul><h2 id=background>Background
<a class=anchor href=#background>#</a></h2><p>A histogram is a graphical representation that displays how frequently various color values occur in an image. The histogram focuses only on the proportion of the colors and not the location of the colors in the Images. They show the statistical distribution of colors and the essential tones present in the image.</p><p>Saturation is the intensity of a hue from gray tone (no saturation) to pure, vivid color (high saturation). Brightness is the relative lightness or darkness of a particular color, from black (no brightness) to white (full brightness). Brightness is also called Lightness in some contexts, in particular in SQL queries.</p><h2 id=code>Code
<a class=anchor href=#code>#</a></h2><h3 id=kernels>Kernels
<a class=anchor href=#kernels>#</a></h3><details><summary>Code Kernel</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>let img;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>/*
</span></span><span style=display:flex><span>//Identidad
</span></span><span style=display:flex><span>let kernel = [
</span></span><span style=display:flex><span>   [0, 0, 0],
</span></span><span style=display:flex><span>   [0, 1, 0],
</span></span><span style=display:flex><span>   [0, 0, 0]
</span></span><span style=display:flex><span>];
</span></span><span style=display:flex><span>*/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>/*
</span></span><span style=display:flex><span>//Sharpen - Enfocar
</span></span><span style=display:flex><span>let kernel = [
</span></span><span style=display:flex><span>   [0, -1, 0],
</span></span><span style=display:flex><span>   [-1, 5, -1],
</span></span><span style=display:flex><span>   [0, -1, 0]
</span></span><span style=display:flex><span>];
</span></span><span style=display:flex><span>*/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>//Detecci√≥n de bordes
</span></span><span style=display:flex><span>let kernel = [
</span></span><span style=display:flex><span>   [-1, -1, -1],
</span></span><span style=display:flex><span>   [-1, 8, -1],
</span></span><span style=display:flex><span>   [-1, -1, -1]
</span></span><span style=display:flex><span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>/*
</span></span><span style=display:flex><span>//Desenfoque
</span></span><span style=display:flex><span>let kernel = [
</span></span><span style=display:flex><span>   [1/9, 1/9, 1/9],
</span></span><span style=display:flex><span>   [1/9, 1/9, 1/9],
</span></span><span style=display:flex><span>   [1/9, 1/9, 1/9]
</span></span><span style=display:flex><span>];
</span></span><span style=display:flex><span>*/
</span></span><span style=display:flex><span>function preload() {
</span></span><span style=display:flex><span>   img = loadImage(&#39;/vc_page/sketches/lenna.png&#39;);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> function setup() {
</span></span><span style=display:flex><span>    createCanvas(400, 400);
</span></span><span style=display:flex><span>    img.loadPixels();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> function draw() {
</span></span><span style=display:flex><span>   newImg = createImage(img.width, img.height);
</span></span><span style=display:flex><span>   newImg.loadPixels();
</span></span><span style=display:flex><span>   
</span></span><span style=display:flex><span>   for (let x = 0; x &lt; <span style=color:#f92672>img.width</span><span style=color:#960050;background-color:#1e0010>;</span> <span style=color:#a6e22e>x</span><span style=color:#960050;background-color:#1e0010>++)</span> <span style=color:#960050;background-color:#1e0010>{</span>
</span></span><span style=display:flex><span>     <span style=color:#a6e22e>for</span> <span style=color:#960050;background-color:#1e0010>(</span><span style=color:#a6e22e>let</span> <span style=color:#a6e22e>y </span><span style=color:#f92672>=</span> <span style=color:#e6db74>0;</span> <span style=color:#a6e22e>y</span> <span style=color:#960050;background-color:#1e0010>&lt;</span> <span style=color:#a6e22e>img</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>height</span><span style=color:#960050;background-color:#1e0010>;</span> <span style=color:#a6e22e>y</span><span style=color:#960050;background-color:#1e0010>++)</span> <span style=color:#960050;background-color:#1e0010>{</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>c </span><span style=color:#f92672>=</span> <span style=color:#e6db74>convolution(x,</span> <span style=color:#a6e22e>y</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>kernel</span><span style=color:#960050;background-color:#1e0010>);</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>index </span><span style=color:#f92672>=</span> <span style=color:#e6db74>4</span> <span style=color:#960050;background-color:#1e0010>*</span> <span style=color:#960050;background-color:#1e0010>(</span><span style=color:#a6e22e>x</span> <span style=color:#960050;background-color:#1e0010>+</span> <span style=color:#a6e22e>img</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>width</span> <span style=color:#960050;background-color:#1e0010>*</span> <span style=color:#a6e22e>y</span><span style=color:#960050;background-color:#1e0010>);</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>newImg</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>pixels</span><span style=color:#960050;background-color:#1e0010>[</span><span style=color:#a6e22e>index</span><span style=color:#960050;background-color:#1e0010>]</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#a6e22e>red</span><span style=color:#960050;background-color:#1e0010>(</span><span style=color:#a6e22e>c</span><span style=color:#960050;background-color:#1e0010>);</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>newImg</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>pixels</span><span style=color:#960050;background-color:#1e0010>[</span><span style=color:#a6e22e>index</span> <span style=color:#960050;background-color:#1e0010>+</span> <span style=color:#a6e22e>1</span><span style=color:#960050;background-color:#1e0010>]</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#a6e22e>green</span><span style=color:#960050;background-color:#1e0010>(</span><span style=color:#a6e22e>c</span><span style=color:#960050;background-color:#1e0010>);</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>newImg</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>pixels</span><span style=color:#960050;background-color:#1e0010>[</span><span style=color:#a6e22e>index</span> <span style=color:#960050;background-color:#1e0010>+</span> <span style=color:#a6e22e>2</span><span style=color:#960050;background-color:#1e0010>]</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#a6e22e>blue</span><span style=color:#960050;background-color:#1e0010>(</span><span style=color:#a6e22e>c</span><span style=color:#960050;background-color:#1e0010>);</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>newImg</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>pixels</span><span style=color:#960050;background-color:#1e0010>[</span><span style=color:#a6e22e>index</span> <span style=color:#960050;background-color:#1e0010>+</span> <span style=color:#a6e22e>3</span><span style=color:#960050;background-color:#1e0010>]</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#a6e22e>alpha</span><span style=color:#960050;background-color:#1e0010>(</span><span style=color:#a6e22e>c</span><span style=color:#960050;background-color:#1e0010>);</span>
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>}</span>
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>}</span>
</span></span><span style=display:flex><span>   
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>newImg</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>updatePixels</span><span style=color:#960050;background-color:#1e0010>();</span>
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>image</span><span style=color:#960050;background-color:#1e0010>(</span><span style=color:#a6e22e>newImg</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>0</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>0</span><span style=color:#960050;background-color:#1e0010>,</span><span style=color:#a6e22e>width</span><span style=color:#960050;background-color:#1e0010>,</span><span style=color:#a6e22e>height</span><span style=color:#960050;background-color:#1e0010>);</span>
</span></span><span style=display:flex><span>   
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>noLoop</span><span style=color:#960050;background-color:#1e0010>();</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>function</span> <span style=color:#a6e22e>convolution</span><span style=color:#960050;background-color:#1e0010>(</span><span style=color:#a6e22e>x</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>y</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>matrix</span><span style=color:#960050;background-color:#1e0010>)</span> <span style=color:#960050;background-color:#1e0010>{</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>rtotal </span><span style=color:#f92672>=</span> <span style=color:#e6db74>0;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>gtotal </span><span style=color:#f92672>=</span> <span style=color:#e6db74>0;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>btotal </span><span style=color:#f92672>=</span> <span style=color:#e6db74>0;</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>for</span> <span style=color:#960050;background-color:#1e0010>(</span><span style=color:#a6e22e>kx </span><span style=color:#f92672>=</span> <span style=color:#e6db74>-1;</span> <span style=color:#a6e22e>kx</span> <span style=color:#960050;background-color:#1e0010>&lt;=</span> <span style=color:#a6e22e>1</span><span style=color:#960050;background-color:#1e0010>;</span> <span style=color:#a6e22e>kx</span><span style=color:#960050;background-color:#1e0010>++)</span> <span style=color:#960050;background-color:#1e0010>{</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>for</span> <span style=color:#960050;background-color:#1e0010>(</span><span style=color:#a6e22e>ky </span><span style=color:#f92672>=</span> <span style=color:#e6db74>-1;</span> <span style=color:#a6e22e>ky</span> <span style=color:#960050;background-color:#1e0010>&lt;=</span> <span style=color:#a6e22e>1</span><span style=color:#960050;background-color:#1e0010>;</span> <span style=color:#a6e22e>ky</span><span style=color:#960050;background-color:#1e0010>++)</span> <span style=color:#960050;background-color:#1e0010>{</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>xpos </span><span style=color:#f92672>=</span> <span style=color:#e6db74>x</span> <span style=color:#960050;background-color:#1e0010>+</span> <span style=color:#a6e22e>kx</span><span style=color:#960050;background-color:#1e0010>;</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>ypos </span><span style=color:#f92672>=</span> <span style=color:#e6db74>y</span> <span style=color:#960050;background-color:#1e0010>+</span> <span style=color:#a6e22e>ky</span><span style=color:#960050;background-color:#1e0010>;</span>
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>r </span><span style=color:#f92672>=</span> <span style=color:#e6db74>0;</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>g </span><span style=color:#f92672>=</span> <span style=color:#e6db74>0;</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>b </span><span style=color:#f92672>=</span> <span style=color:#e6db74>0;</span>
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>index </span><span style=color:#f92672>=</span> <span style=color:#e6db74>4</span> <span style=color:#960050;background-color:#1e0010>*</span> <span style=color:#960050;background-color:#1e0010>(</span><span style=color:#a6e22e>xpos</span> <span style=color:#960050;background-color:#1e0010>+</span> <span style=color:#a6e22e>img</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>width</span> <span style=color:#960050;background-color:#1e0010>*</span> <span style=color:#a6e22e>ypos</span><span style=color:#960050;background-color:#1e0010>);</span>
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>index </span><span style=color:#f92672>=</span> <span style=color:#e6db74>constrain(index,</span> <span style=color:#a6e22e>0</span> <span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>img</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>pixels</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>length</span> <span style=color:#a6e22e>-</span> <span style=color:#a6e22e>1</span><span style=color:#960050;background-color:#1e0010>);</span>
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>r </span><span style=color:#f92672>=</span> <span style=color:#e6db74>img.pixels[index];</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>g </span><span style=color:#f92672>=</span> <span style=color:#e6db74>img.pixels[index</span> <span style=color:#960050;background-color:#1e0010>+</span> <span style=color:#a6e22e>1</span><span style=color:#960050;background-color:#1e0010>];</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>b </span><span style=color:#f92672>=</span> <span style=color:#e6db74>img.pixels[index</span> <span style=color:#960050;background-color:#1e0010>+</span> <span style=color:#a6e22e>2</span><span style=color:#960050;background-color:#1e0010>];</span>
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>rtotal</span> <span style=color:#960050;background-color:#1e0010>+=</span> <span style=color:#a6e22e>matrix</span><span style=color:#960050;background-color:#1e0010>[</span><span style=color:#a6e22e>kx</span> <span style=color:#960050;background-color:#1e0010>+</span> <span style=color:#a6e22e>1</span><span style=color:#960050;background-color:#1e0010>][</span><span style=color:#a6e22e>ky</span> <span style=color:#960050;background-color:#1e0010>+</span> <span style=color:#a6e22e>1</span><span style=color:#960050;background-color:#1e0010>]</span> <span style=color:#960050;background-color:#1e0010>*</span> <span style=color:#a6e22e>r</span><span style=color:#960050;background-color:#1e0010>;</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>gtotal</span> <span style=color:#960050;background-color:#1e0010>+=</span> <span style=color:#a6e22e>matrix</span><span style=color:#960050;background-color:#1e0010>[</span><span style=color:#a6e22e>kx</span> <span style=color:#960050;background-color:#1e0010>+</span> <span style=color:#a6e22e>1</span><span style=color:#960050;background-color:#1e0010>][</span><span style=color:#a6e22e>ky</span> <span style=color:#960050;background-color:#1e0010>+</span> <span style=color:#a6e22e>1</span><span style=color:#960050;background-color:#1e0010>]</span> <span style=color:#960050;background-color:#1e0010>*</span> <span style=color:#a6e22e>g</span><span style=color:#960050;background-color:#1e0010>;</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>btotal</span> <span style=color:#960050;background-color:#1e0010>+=</span> <span style=color:#a6e22e>matrix</span><span style=color:#960050;background-color:#1e0010>[</span><span style=color:#a6e22e>kx</span> <span style=color:#960050;background-color:#1e0010>+</span> <span style=color:#a6e22e>1</span><span style=color:#960050;background-color:#1e0010>][</span><span style=color:#a6e22e>ky</span> <span style=color:#960050;background-color:#1e0010>+</span> <span style=color:#a6e22e>1</span><span style=color:#960050;background-color:#1e0010>]</span> <span style=color:#960050;background-color:#1e0010>*</span> <span style=color:#a6e22e>b</span><span style=color:#960050;background-color:#1e0010>;</span>
</span></span><span style=display:flex><span>      <span style=color:#960050;background-color:#1e0010>}</span>
</span></span><span style=display:flex><span>  <span style=color:#960050;background-color:#1e0010>}</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#960050;background-color:#1e0010>//</span><span style=color:#a6e22e>Se</span> <span style=color:#a6e22e>verefica</span> <span style=color:#a6e22e>que</span> <span style=color:#a6e22e>este</span> <span style=color:#a6e22e>dentro</span> <span style=color:#a6e22e>de</span> <span style=color:#a6e22e>RGB</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rtotal </span><span style=color:#f92672>=</span> <span style=color:#e6db74>constrain(rtotal,</span> <span style=color:#a6e22e>0</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>255</span><span style=color:#960050;background-color:#1e0010>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>gtotal </span><span style=color:#f92672>=</span> <span style=color:#e6db74>constrain(gtotal,</span> <span style=color:#a6e22e>0</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>255</span><span style=color:#960050;background-color:#1e0010>);</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>btotal </span><span style=color:#f92672>=</span> <span style=color:#e6db74>constrain(btotal,</span> <span style=color:#a6e22e>0</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>255</span><span style=color:#960050;background-color:#1e0010>);</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>return</span> <span style=color:#a6e22e>color</span><span style=color:#960050;background-color:#1e0010>(</span><span style=color:#a6e22e>rtotal</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>gtotal</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>btotal</span><span style=color:#960050;background-color:#1e0010>);</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>//</span><span style=color:#a6e22e>Ref:</span> <span style=color:#a6e22e>https:</span><span style=color:#960050;background-color:#1e0010>//</span><span style=color:#a6e22e>p5js</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>org</span><span style=color:#960050;background-color:#1e0010>/</span><span style=color:#a6e22e>examples</span><span style=color:#960050;background-color:#1e0010>/</span><span style=color:#a6e22e>image-convolution</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>html</span></span></span></code></pre></div></div></details><iframe id=kernels style=width:725px;height:425px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/vc_page/sketches/kernels.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h3 id=histograma>Histograma
<a class=anchor href=#histograma>#</a></h3><details><summary>Code Histogram</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>let img;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function preload() {
</span></span><span style=display:flex><span>  img = loadImage(&#39;/vc_page/sketches/lenna.png&#39;);
</span></span><span style=display:flex><span>  //img = loadImage(&#39;sketches/mahakala.jpg&#39;);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function setup() {
</span></span><span style=display:flex><span>  createCanvas(img.width, img.height);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>function draw() {
</span></span><span style=display:flex><span>  background(220);
</span></span><span style=display:flex><span>  image(img, 0, 0, img.width, img.height);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  var hist = [];
</span></span><span style=display:flex><span>    for (let i = 0; i &lt; <span style=color:#f92672>256</span><span style=color:#960050;background-color:#1e0010>;</span> <span style=color:#a6e22e>i</span><span style=color:#960050;background-color:#1e0010>++)</span> <span style=color:#960050;background-color:#1e0010>{</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>hist</span><span style=color:#960050;background-color:#1e0010>[</span><span style=color:#a6e22e>i</span><span style=color:#960050;background-color:#1e0010>]</span> <span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#a6e22e>0</span><span style=color:#960050;background-color:#1e0010>;</span>
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>}</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>loadPixels</span><span style=color:#960050;background-color:#1e0010>();</span>
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>//</span> <span style=color:#a6e22e>Calculate</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>histogram</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>for</span> <span style=color:#960050;background-color:#1e0010>(</span><span style=color:#a6e22e>let</span> <span style=color:#a6e22e>i </span><span style=color:#f92672>=</span> <span style=color:#e6db74>0;</span> <span style=color:#a6e22e>i</span> <span style=color:#960050;background-color:#1e0010>&lt;</span> <span style=color:#a6e22e>img</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>width</span><span style=color:#960050;background-color:#1e0010>;</span> <span style=color:#a6e22e>i</span><span style=color:#960050;background-color:#1e0010>++)</span> <span style=color:#960050;background-color:#1e0010>{</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>for</span> <span style=color:#960050;background-color:#1e0010>(</span><span style=color:#a6e22e>let</span> <span style=color:#a6e22e>j </span><span style=color:#f92672>=</span> <span style=color:#e6db74>0;</span> <span style=color:#a6e22e>j</span> <span style=color:#960050;background-color:#1e0010>&lt;</span> <span style=color:#a6e22e>img</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>height</span><span style=color:#960050;background-color:#1e0010>;</span> <span style=color:#a6e22e>j</span><span style=color:#960050;background-color:#1e0010>++)</span> <span style=color:#960050;background-color:#1e0010>{</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>index </span><span style=color:#f92672>=</span> <span style=color:#e6db74>(i</span> <span style=color:#960050;background-color:#1e0010>+</span> <span style=color:#a6e22e>j</span> <span style=color:#960050;background-color:#1e0010>*</span> <span style=color:#a6e22e>img</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>width</span><span style=color:#960050;background-color:#1e0010>)</span> <span style=color:#960050;background-color:#1e0010>*</span> <span style=color:#a6e22e>4</span><span style=color:#960050;background-color:#1e0010>;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>r </span><span style=color:#f92672>=</span> <span style=color:#e6db74>img.pixels[index];</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>g </span><span style=color:#f92672>=</span> <span style=color:#e6db74>img.pixels[index</span> <span style=color:#960050;background-color:#1e0010>+</span> <span style=color:#a6e22e>1</span><span style=color:#960050;background-color:#1e0010>];</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>b </span><span style=color:#f92672>=</span> <span style=color:#e6db74>img.pixels[index</span> <span style=color:#960050;background-color:#1e0010>+</span> <span style=color:#a6e22e>2</span><span style=color:#960050;background-color:#1e0010>];</span>
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>//</span><span style=color:#a6e22e>println</span><span style=color:#960050;background-color:#1e0010>(</span><span style=color:#a6e22e>c</span><span style=color:#960050;background-color:#1e0010>,</span><span style=color:#a6e22e>col</span><span style=color:#960050;background-color:#1e0010>);</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>bright </span><span style=color:#f92672>=</span> <span style=color:#e6db74>floor((r</span> <span style=color:#960050;background-color:#1e0010>+</span> <span style=color:#a6e22e>g</span> <span style=color:#960050;background-color:#1e0010>+</span> <span style=color:#a6e22e>b</span><span style=color:#960050;background-color:#1e0010>)</span> <span style=color:#960050;background-color:#1e0010>/</span> <span style=color:#a6e22e>3</span><span style=color:#960050;background-color:#1e0010>);</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>hist</span><span style=color:#960050;background-color:#1e0010>[</span><span style=color:#a6e22e>bright</span><span style=color:#960050;background-color:#1e0010>]++;</span>
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>//</span><span style=color:#a6e22e>break</span><span style=color:#960050;background-color:#1e0010>;</span>
</span></span><span style=display:flex><span>      <span style=color:#960050;background-color:#1e0010>}</span>
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>//</span> <span style=color:#a6e22e>Find</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>largest</span> <span style=color:#a6e22e>value</span> <span style=color:#a6e22e>in</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>histogram</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>var</span> <span style=color:#a6e22e>histMax </span><span style=color:#f92672>=</span> <span style=color:#e6db74>max(hist);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>stroke</span><span style=color:#960050;background-color:#1e0010>(</span><span style=color:#a6e22e>255</span><span style=color:#960050;background-color:#1e0010>);</span>
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>//</span> <span style=color:#a6e22e>Draw</span> <span style=color:#a6e22e>half</span> <span style=color:#a6e22e>of</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>histogram</span> <span style=color:#960050;background-color:#1e0010>(</span><span style=color:#a6e22e>skip</span> <span style=color:#a6e22e>every</span> <span style=color:#a6e22e>second</span> <span style=color:#a6e22e>value</span><span style=color:#960050;background-color:#1e0010>)</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>for</span> <span style=color:#960050;background-color:#1e0010>(</span><span style=color:#a6e22e>let</span> <span style=color:#a6e22e>i </span><span style=color:#f92672>=</span> <span style=color:#e6db74>0;</span> <span style=color:#a6e22e>i</span> <span style=color:#960050;background-color:#1e0010>&lt;</span> <span style=color:#a6e22e>img</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>width</span><span style=color:#960050;background-color:#1e0010>;</span> <span style=color:#a6e22e>i</span> <span style=color:#960050;background-color:#1e0010>+=</span> <span style=color:#a6e22e>2</span><span style=color:#960050;background-color:#1e0010>)</span> <span style=color:#960050;background-color:#1e0010>{</span>
</span></span><span style=display:flex><span>      <span style=color:#960050;background-color:#1e0010>//</span> <span style=color:#a6e22e>Map</span> <span style=color:#a6e22e>i</span> <span style=color:#960050;background-color:#1e0010>(</span><span style=color:#a6e22e>from</span> <span style=color:#a6e22e>0</span><span style=color:#960050;background-color:#1e0010>..</span><span style=color:#a6e22e>img</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>width</span><span style=color:#960050;background-color:#1e0010>)</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>location</span> <span style=color:#a6e22e>in</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>histogram</span> <span style=color:#960050;background-color:#1e0010>(</span><span style=color:#a6e22e>0</span><span style=color:#960050;background-color:#1e0010>..</span><span style=color:#a6e22e>255</span><span style=color:#960050;background-color:#1e0010>)</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>which </span><span style=color:#f92672>=</span> <span style=color:#e6db74>int(map(i,</span> <span style=color:#a6e22e>0</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>img</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>width</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>0</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>255</span><span style=color:#960050;background-color:#1e0010>));</span>
</span></span><span style=display:flex><span>      <span style=color:#960050;background-color:#1e0010>//</span> <span style=color:#a6e22e>Convert</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>histogram</span> <span style=color:#a6e22e>value</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>location</span> <span style=color:#a6e22e>between</span>
</span></span><span style=display:flex><span>      <span style=color:#960050;background-color:#1e0010>//</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>bottom</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>top</span> <span style=color:#a6e22e>of</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>picture</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>let</span> <span style=color:#a6e22e>y </span><span style=color:#f92672>=</span> <span style=color:#e6db74>int(map(hist[which],</span> <span style=color:#a6e22e>0</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>histMax</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>img</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>height</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>0</span><span style=color:#960050;background-color:#1e0010>));</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>line</span><span style=color:#960050;background-color:#1e0010>(</span><span style=color:#a6e22e>i</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>img</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>height</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>i</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>y</span><span style=color:#960050;background-color:#1e0010>);</span>
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>}</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>//</span><span style=color:#a6e22e>Ref:</span> <span style=color:#a6e22e>https:</span><span style=color:#960050;background-color:#1e0010>//</span><span style=color:#a6e22e>processing</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>org</span><span style=color:#960050;background-color:#1e0010>/</span><span style=color:#a6e22e>examples</span><span style=color:#960050;background-color:#1e0010>/</span><span style=color:#a6e22e>histogram</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>html</span></span></span></code></pre></div></div></details><iframe id=histogram style=width:725px;height:550px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/vc_page/sketches/histogram.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=conclusions>Conclusions
<a class=anchor href=#conclusions>#</a></h2></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/9c0aa1ed199d06049f446dc309af4bd4733001ff title='Last modified by pgrisales | August 31, 2022' target=_blank rel=noopener><img src=/vc_page/svg/calendar.svg class=book-icon alt=Calendar>
<span>August 31, 2022</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#visual-masking>Visual masking</a></li><li><a href=#convolution-masks>Convolution masks</a><ul><li><a href=#problem-statement>Problem Statement</a></li><li><a href=#background>Background</a></li><li><a href=#code>Code</a><ul><li><a href=#kernels>Kernels</a></li><li><a href=#histograma>Histograma</a></li></ul></li><li><a href=#conclusions>Conclusions</a></li></ul></li></ul></nav></div></aside></main></body></html>